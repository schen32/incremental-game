[gd_scene format=4 uid="uid://bavm2dy61wesg"]

[ext_resource type="Script" uid="uid://d0vgyiot1i43h" path="res://scripts/tile/highlight_tile.gd" id="1_iywne"]
[ext_resource type="Script" uid="uid://1dck2c0yg7ju" path="res://scripts/tile/destroy_tile.gd" id="1_lbhrr"]
[ext_resource type="PackedScene" uid="uid://bdirokky8005j" path="res://scenes/entities/player.tscn" id="2_lbhrr"]
[ext_resource type="PackedScene" uid="uid://bjbob2uc0ov24" path="res://scenes/background.tscn" id="3_iywne"]
[ext_resource type="Texture2D" uid="uid://boswtdmugd05a" path="res://assets/Spritesheets/tetris-Sheet.png" id="4_bt5mj"]
[ext_resource type="AudioStream" uid="uid://dk0msq32blpdq" path="res://assets/SoundEffects/Break.wav" id="6_p57ef"]
[ext_resource type="PackedScene" uid="uid://xikuc4phd042" path="res://scenes/entities/dropped_item.tscn" id="7_u5sy4"]
[ext_resource type="Script" uid="uid://3h6s6kcw015c" path="res://scripts/tile/place_tile.gd" id="8_0tnpc"]
[ext_resource type="PackedScene" uid="uid://jnobfl65eyh3" path="res://scenes/ui/game_ui.tscn" id="8_gee14"]
[ext_resource type="AudioStream" uid="uid://dfmlqvfcfdikn" path="res://assets/SoundEffects/Place.wav" id="9_vtaks"]
[ext_resource type="Script" uid="uid://b6qrnfuuej4jv" path="res://scripts/entities/killzone.gd" id="10_kvpfn"]
[ext_resource type="Script" uid="uid://c1y3omdouhnly" path="res://scripts/ui/toggle_inventory.gd" id="10_kvuet"]
[ext_resource type="Script" uid="uid://bq1hoecaa13pd" path="res://scripts/actions/use_item_primary.gd" id="11_264po"]
[ext_resource type="Script" uid="uid://d0t1ctod3gqd3" path="res://scripts/actions/use_item_secondary.gd" id="12_1kice"]
[ext_resource type="PackedScene" uid="uid://4tn0n6m3sqmk" path="res://scenes/entities/rat.tscn" id="12_dinhu"]
[ext_resource type="Script" uid="uid://dyawl37uysnxf" path="res://scripts/globals/item_database.gd" id="12_trtic"]
[ext_resource type="Script" uid="uid://dk3g35nrf83hu" path="res://scripts/player/available_recipes.gd" id="13_1kice"]
[ext_resource type="Script" uid="uid://rhr2xjvvyg5h" path="res://scripts/actions/inventory_move_items.gd" id="14_5newe"]
[ext_resource type="AudioStream" uid="uid://dnbs7eou2fmxy" path="res://assets/SoundEffects/Pop.mp3" id="15_5newe"]
[ext_resource type="Script" uid="uid://pfe76iooumwg" path="res://scripts/actions/craft_item.gd" id="15_37s47"]
[ext_resource type="Script" uid="uid://co4h33xqbu1ra" path="res://scripts/sound_manager.gd" id="16_bt5mj"]
[ext_resource type="Texture2D" uid="uid://cyy4irelo67cr" path="res://assets/Spritesheets/Dimensional_Portal.png" id="17_bhx41"]
[ext_resource type="Script" uid="uid://b4n2wrnyuj1bi" path="res://scripts/mob_spawner.gd" id="20_1kice"]
[ext_resource type="Script" uid="uid://d1doe40jv0hhg" path="res://scripts/globals/recipe_database.gd" id="21_37s47"]
[ext_resource type="PackedScene" uid="uid://bpli5t0y0omtm" path="res://scenes/entities/snake.tscn" id="22_pl11u"]
[ext_resource type="Script" uid="uid://d3mttmi21qeux" path="res://scripts/world_blocks.gd" id="23_e1j6l"]
[ext_resource type="PackedScene" uid="uid://buoh42yp7ku7g" path="res://scenes/ui/guide_ui.tscn" id="27_qnb83"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_e1j6l"]
texture = ExtResource("4_bt5mj")
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
0:0/0/custom_data_0 = &"gold"
1:0/0 = 0
1:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
1:0/0/custom_data_0 = &"grass"
2:0/0 = 0
2:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
2:0/0/custom_data_0 = &"amethyst"
3:0/0 = 0
3:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
3:0/0/custom_data_0 = &"ice"
4:0/0 = 0
4:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
4:0/0/custom_data_0 = &"copper"
5:0/0 = 0
5:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
5:0/0/custom_data_0 = &"rose"
6:0/0 = 0
6:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
6:0/0/custom_data_0 = &"mint"
7:0/0 = 0
7:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
7:0/0/custom_data_0 = &"stone"
8:0/0 = 0
8:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
8:0/0/custom_data_0 = &"dirt"
9:0/0 = 0
9:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
9:0/0/custom_data_0 = &"jade"
10:0/0 = 0
10:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
10:0/0/custom_data_0 = &"slate"

[sub_resource type="TileSet" id="TileSet_pl11u"]
physics_layer_0/collision_layer = 1
custom_data_layer_0/name = "item"
custom_data_layer_0/type = 21
sources/0 = SubResource("TileSetAtlasSource_e1j6l")

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_vtaks"]
distance = -704.0

[sub_resource type="AtlasTexture" id="AtlasTexture_qnb83"]
atlas = ExtResource("17_bhx41")
region = Rect2(0, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_sww3w"]
atlas = ExtResource("17_bhx41")
region = Rect2(32, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_suyxu"]
atlas = ExtResource("17_bhx41")
region = Rect2(64, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_sgl2t"]
atlas = ExtResource("17_bhx41")
region = Rect2(0, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_qouja"]
atlas = ExtResource("17_bhx41")
region = Rect2(32, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_wljb1"]
atlas = ExtResource("17_bhx41")
region = Rect2(64, 32, 32, 32)

[sub_resource type="SpriteFrames" id="SpriteFrames_js0lu"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_qnb83")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_sww3w")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_suyxu")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_sgl2t")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qouja")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wljb1")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[node name="Game" type="Node2D" unique_id=1635684854]

[node name="Player" parent="." unique_id=1146450175 instance=ExtResource("2_lbhrr")]
position = Vector2(96, 248)

[node name="Background" parent="." unique_id=2029619789 instance=ExtResource("3_iywne")]
z_index = -10

[node name="AllTiles" type="Node2D" parent="." unique_id=1860860785]

[node name="Tiles" type="TileMapLayer" parent="AllTiles" unique_id=183586924]
tile_map_data = PackedByteArray("AAAAABEAAAABAAAAAAAAABIAAAABAAAAAAABABEAAAABAAAAAAABABIAAAABAAAAAAACABEAAAABAAAAAAACABIAAAABAAAAAAADABEAAAABAAAAAAADABIAAAABAAAAAAAEABEAAAABAAAAAAAEABIAAAABAAAAAAAFABEAAAABAAAAAAAFABIAAAABAAAAAAAGABEAAAABAAAAAAAGABIAAAABAAAAAAAHABEAAAABAAAAAAAHABIAAAABAAAAAAAIABEAAAABAAAAAAAIABIAAAABAAAAAAAAABAAAAABAAAAAAABABAAAAABAAAAAAACABAAAAABAAAAAAADABAAAAABAAAAAAAEABAAAAABAAAAAAAFABAAAAABAAAAAAAGABAAAAABAAAAAAAHABAAAAABAAAAAAAIABAAAAABAAAAAAAAABMAAAAIAAAAAAAAABQAAAAIAAAAAAAAABUAAAAIAAAAAAAAABYAAAAIAAAAAAAAABcAAAAIAAAAAAAAABgAAAAIAAAAAAABABMAAAAIAAAAAAABABQAAAAIAAAAAAABABUAAAAIAAAAAAABABYAAAAIAAAAAAABABcAAAAIAAAAAAABABgAAAAIAAAAAAACABMAAAAIAAAAAAACABQAAAAIAAAAAAACABUAAAAIAAAAAAACABYAAAAIAAAAAAACABcAAAAIAAAAAAACABgAAAAIAAAAAAADABMAAAAIAAAAAAADABQAAAAIAAAAAAADABUAAAAIAAAAAAADABYAAAAIAAAAAAADABcAAAAIAAAAAAADABgAAAAIAAAAAAAEABMAAAAIAAAAAAAEABQAAAAIAAAAAAAEABUAAAAIAAAAAAAEABYAAAAIAAAAAAAEABcAAAAIAAAAAAAEABgAAAAIAAAAAAAFABMAAAAIAAAAAAAFABQAAAAIAAAAAAAFABUAAAAIAAAAAAAFABYAAAAIAAAAAAAFABcAAAAIAAAAAAAFABgAAAAIAAAAAAAGABMAAAAIAAAAAAAGABQAAAAIAAAAAAAGABUAAAAIAAAAAAAGABYAAAAIAAAAAAAGABcAAAAIAAAAAAAGABgAAAAIAAAAAAAHABMAAAAIAAAAAAAHABQAAAAIAAAAAAAHABUAAAAIAAAAAAAHABYAAAAIAAAAAAAHABcAAAAIAAAAAAAHABgAAAAIAAAAAAAIABMAAAAIAAAAAAAIABQAAAAIAAAAAAAIABUAAAAIAAAAAAAIABYAAAAIAAAAAAAIABcAAAAIAAAAAAAIABgAAAAIAAAAAAAJABAAAAABAAAAAAAJABEAAAABAAAAAAAJABIAAAABAAAAAAAKABAAAAABAAAAAAAKABEAAAABAAAAAAAKABIAAAABAAAAAAALABAAAAABAAAAAAALABEAAAABAAAAAAALABIAAAABAAAAAAAJABMAAAAIAAAAAAAJABQAAAAIAAAAAAAJABUAAAAIAAAAAAAJABYAAAAIAAAAAAAJABcAAAAIAAAAAAAJABgAAAAIAAAAAAAKABMAAAAIAAAAAAAKABQAAAAIAAAAAAAKABUAAAAIAAAAAAAKABYAAAAIAAAAAAAKABcAAAAIAAAAAAAKABgAAAAIAAAAAAALABMAAAAIAAAAAAALABQAAAAIAAAAAAALABUAAAAIAAAAAAALABYAAAAIAAAAAAALABcAAAAIAAAAAAALABgAAAAIAAAAAAAMABAAAAABAAAAAAANABAAAAABAAAAAAAOABAAAAABAAAAAAAPABAAAAABAAAAAAAQABAAAAABAAAAAAARABAAAAABAAAAAAASABAAAAABAAAAAAATABAAAAABAAAAAAAUABAAAAABAAAAAAAVABAAAAABAAAAAAAWABAAAAABAAAAAAAXABAAAAABAAAAAAD1/xAAAAABAAAAAAD2/xAAAAABAAAAAAD3/xAAAAABAAAAAAD4/xAAAAABAAAAAAD5/xAAAAABAAAAAAD6/xAAAAABAAAAAAD7/xAAAAABAAAAAAD8/xAAAAABAAAAAAD9/xAAAAABAAAAAAD+/xAAAAABAAAAAAD//xAAAAABAAAAAADx/xAAAAABAAAAAADy/xAAAAABAAAAAADz/xAAAAABAAAAAAD0/xAAAAABAAAAAAABAAoAAAABAAAAAAABAAsAAAABAAAAAAABAAwAAAABAAAAAAACAAkAAAABAAAAAAACAAoAAAABAAAAAAACAAsAAAABAAAAAAACAAwAAAAIAAAAAAADAAgAAAABAAAAAAADAAkAAAABAAAAAAADAAoAAAABAAAAAAADAAsAAAABAAAAAAADAAwAAAABAAAAAAAEAAkAAAABAAAAAAAEAAoAAAABAAAAAAAEAAsAAAABAAAAAAAEAAwAAAABAAAAAAAFAAoAAAABAAAAAAAFAAsAAAABAAAAAAAFAAwAAAABAAAAAAD//woAAAABAAAAAAD//wsAAAABAAAAAAD//wwAAAABAAAAAAAAAAkAAAABAAAAAAAAAAoAAAABAAAAAAAAAAsAAAABAAAAAAAAAAwAAAABAAAAAAABAAgAAAABAAAAAAABAAkAAAABAAAAAAACAAgAAAABAAAAAAACAA0AAAAIAAAAAAACAA4AAAAIAAAAAAACAA8AAAAIAAAAAADx/w0AAAAIAAAAAADy/w0AAAAIAAAAAADz/w0AAAAIAAAAAAD0/w0AAAAIAAAAAAD1/w0AAAAIAAAAAAD2/w0AAAAIAAAAAAD3/w0AAAAIAAAAAAD4/w0AAAAIAAAAAAD5/w0AAAAIAAAAAAD6/w0AAAAIAAAAAAD7/w0AAAAIAAAAAAD8/w0AAAAIAAAAAADx/woAAAAIAAAAAADy/woAAAAIAAAAAADz/woAAAAIAAAAAAD0/woAAAAIAAAAAAD1/woAAAAIAAAAAAD2/woAAAAIAAAAAAD3/woAAAAIAAAAAAD4/woAAAAIAAAAAAD5/woAAAAIAAAAAAD6/woAAAAIAAAAAAD9/w4AAAAIAAAAAAD7/wsAAAAIAAAAAAA=")
tile_set = SubResource("TileSet_pl11u")

[node name="GameScripts" type="Node2D" parent="." unique_id=1256118741]

[node name="HighlightTile" type="Node2D" parent="GameScripts" unique_id=1211222330]
script = ExtResource("1_iywne")

[node name="Highlight" type="Node2D" parent="GameScripts/HighlightTile" unique_id=710917099]

[node name="HighlightRect" type="ColorRect" parent="GameScripts/HighlightTile/Highlight" unique_id=465233398]
offset_left = -8.0
offset_top = -8.0
offset_right = 8.0
offset_bottom = 8.0
color = Color(1, 0.83137256, 0, 0.5019608)

[node name="DestroyTile" type="Node2D" parent="GameScripts" unique_id=1555517572]
script = ExtResource("1_lbhrr")
pickup_item = ExtResource("7_u5sy4")

[node name="BreakSound" type="AudioStreamPlayer2D" parent="GameScripts/DestroyTile" unique_id=1109415965]
stream = ExtResource("6_p57ef")
volume_db = -10.0

[node name="PlaceTile" type="Node2D" parent="GameScripts" unique_id=871236199]
script = ExtResource("8_0tnpc")

[node name="PlaceSound" type="AudioStreamPlayer2D" parent="GameScripts/PlaceTile" unique_id=247764782]
stream = ExtResource("9_vtaks")

[node name="ToggleInventory" type="Node2D" parent="GameScripts" unique_id=1245206085]
script = ExtResource("10_kvuet")

[node name="UseItemPrimary" type="Node2D" parent="GameScripts" unique_id=1209364928]
script = ExtResource("11_264po")

[node name="UseItemSecondary" type="Node2D" parent="GameScripts" unique_id=2131092232]
script = ExtResource("12_1kice")

[node name="AvailableRecipes" type="Node2D" parent="GameScripts" unique_id=1146806397]
script = ExtResource("13_1kice")

[node name="CraftItem" type="Node2D" parent="GameScripts" unique_id=1033919964]
script = ExtResource("15_37s47")

[node name="InventoryMoveItems" type="Node2D" parent="GameScripts" unique_id=51191494]
script = ExtResource("14_5newe")

[node name="GameNodes" type="Node2D" parent="." unique_id=1103421725]

[node name="Killzone" type="Area2D" parent="GameNodes" unique_id=1854873615]
position = Vector2(0, 1024)
collision_mask = 14
script = ExtResource("10_kvpfn")

[node name="CollisionShape2D" type="CollisionShape2D" parent="GameNodes/Killzone" unique_id=1977394104]
shape = SubResource("WorldBoundaryShape2D_vtaks")

[node name="RespawnPoint" type="Marker2D" parent="GameNodes" unique_id=1291392203]
z_index = -5
position = Vector2(96, 232)

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="GameNodes/RespawnPoint" unique_id=1836858107]
z_index = -1
sprite_frames = SubResource("SpriteFrames_js0lu")
autoplay = "default"

[node name="ItemDatabase" type="Node2D" parent="GameNodes" unique_id=598196364]
script = ExtResource("12_trtic")

[node name="RecipeDatabase" type="Node2D" parent="GameNodes" unique_id=422731932]
script = ExtResource("21_37s47")

[node name="WorldBlocks" type="Node2D" parent="GameNodes" unique_id=110175112 node_paths=PackedStringArray("tilemap")]
script = ExtResource("23_e1j6l")
tilemap = NodePath("../../AllTiles/Tiles")

[node name="MobSpawner" type="Node2D" parent="GameNodes" unique_id=1969273863]
position = Vector2(216, 224)
script = ExtResource("20_1kice")
spawn_table = {
&"dirt": ExtResource("22_pl11u"),
&"grass": ExtResource("12_dinhu")
}

[node name="SpawnSound" type="AudioStreamPlayer2D" parent="GameNodes/MobSpawner" unique_id=1954952835]
stream = ExtResource("15_5newe")
volume_db = -20.0

[node name="SoundManager" type="Node2D" parent="GameNodes" unique_id=1118356706]
script = ExtResource("16_bt5mj")

[node name="InventoryUI" parent="." unique_id=738382559 instance=ExtResource("8_gee14")]

[node name="GuideUI" parent="." unique_id=900879863 instance=ExtResource("27_qnb83")]
